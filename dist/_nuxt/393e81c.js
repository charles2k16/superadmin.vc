(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{627:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"COUNTS"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"company_aggregate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"aggregate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"user_aggregate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"aggregate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"post_aggregate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"aggregate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"post_comment_aggregate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"aggregate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"tag_aggregate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"aggregate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:313}};t.loc.source={body:"query COUNTS {\n  company_aggregate {\n    aggregate {\n      count\n    }\n  }\n  user_aggregate {\n    aggregate {\n      count\n    }\n  }\n  post_aggregate {\n    aggregate {\n      count\n    }\n  }\n  post_comment_aggregate {\n    aggregate {\n      count\n    }\n  }\n\n  tag_aggregate {\n    aggregate {\n      count\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function o(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,n)})),e.definitions&&e.definitions.forEach((function(e){o(e,n)}))}var r={};function c(e,n){for(var i=0;i<e.definitions.length;i++){var element=e.definitions[i];if(element.name&&element.name.value==n)return element}}t.definitions.forEach((function(e){if(e.name){var n=new Set;o(e,n),r[e.name.value]=n}})),e.exports=t,e.exports.COUNTS=function(e,n){var t={kind:e.kind,definitions:[c(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var o=r[n]||new Set,d=new Set,l=new Set;for(o.forEach((function(e){l.add(e)}));l.size>0;){var v=l;l=new Set,v.forEach((function(e){d.has(e)||(d.add(e),(r[e]||new Set).forEach((function(e){l.add(e)})))}))}return d.forEach((function(n){var o=c(e,n);o&&t.definitions.push(o)})),t}(t,"COUNTS")},628:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ListCompanies"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"company"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"business_stage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"business_objective"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"investmentEtaMetric"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"investmentEtaValue"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"billing_subscriptions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"planId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"companyId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"priceId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentEndDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentStartDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stripeSubscriptionId"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:407}};t.loc.source={body:"query ListCompanies {\n  company {\n    business_stage {\n      name\n    }\n    city\n    country\n    id\n    name\n    size\n    business_objective {\n      description\n      value\n    }\n    createdAt\n    investmentEtaMetric\n    investmentEtaValue\n    billing_subscriptions {\n      status\n      planId\n      companyId\n      priceId\n      currentEndDate\n      currentStartDate\n      stripeSubscriptionId\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function o(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,n)})),e.definitions&&e.definitions.forEach((function(e){o(e,n)}))}var r={};function c(e,n){for(var i=0;i<e.definitions.length;i++){var element=e.definitions[i];if(element.name&&element.name.value==n)return element}}t.definitions.forEach((function(e){if(e.name){var n=new Set;o(e,n),r[e.name.value]=n}})),e.exports=t,e.exports.ListCompanies=function(e,n){var t={kind:e.kind,definitions:[c(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var o=r[n]||new Set,d=new Set,l=new Set;for(o.forEach((function(e){l.add(e)}));l.size>0;){var v=l;l=new Set,v.forEach((function(e){d.has(e)||(d.add(e),(r[e]||new Set).forEach((function(e){l.add(e)})))}))}return d.forEach((function(n){var o=c(e,n);o&&t.definitions.push(o)})),t}(t,"ListCompanies")},660:function(e,n,t){"use strict";t.r(n);t(29),t(248),t(16),t(21),t(53),t(73),t(19),t(28),t(69),t(35);var o=t(627),r=t.n(o),c=t(628),d=t.n(c),l={name:"App",components:{},layout:"dashboard",data:function(){return{isOpen:!1,counts:{},businesses:[],search:""}},fetch:function(){this.getCounts(),this.getBusiness()},computed:{filteredBusinesses:function(){var e=this;return this.search?this.businesses.filter((function(n){var t,o,r,c,d,l,v,m,f;return(null===(t=n.name)||void 0===t?void 0:t.toLowerCase().includes(null===(o=e.search)||void 0===o?void 0:o.toLowerCase()))||(null===(r=n.city)||void 0===r?void 0:r.toLowerCase().includes(null===(c=e.search)||void 0===c?void 0:c.toLowerCase()))||(null===(d=n.country)||void 0===d?void 0:d.toLowerCase().includes(null===(l=e.search)||void 0===l?void 0:l.toLowerCase()))||(null===(v=n.business_stage)||void 0===v||null===(m=v.name)||void 0===m?void 0:m.toLowerCase().includes(null===(f=e.search)||void 0===f?void 0:f.toLowerCase()))})):this.businesses},businessesToDownload:function(){return this.businesses.map((function(e){var n,t;return{name:e.name,stage:null===(n=e.business_stage)||void 0===n?void 0:n.name,city:e.city,country:e.country,objective:null===(t=e.business_objective)||void 0===t?void 0:t.description,investmentReady:"".concat(e.investmentEtaValue," ").concat(e.investmentEtaMetric),createdAt:e.createdAt}}))}},methods:{getCounts:function(){var e=this;this.$apollo.query({query:r.a}).then((function(n){var data=n.data;console.log(data),e.counts=data}))},getBusiness:function(){var e=this;this.$apollo.query({query:d.a}).then((function(n){var data=n.data;console.log(data.company.map((function(e){return e}))),e.businesses=data.company}))},open:function(){this.isOpen=!0},close:function(){this.isOpen=!1}}},v=t(91),component=Object(v.a)(l,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"container"},[t("c-heading",{attrs:{marginBottom:"20px"}},[e._v("Business")]),e._v(" "),t("c-stat",{attrs:{marginBottom:"20px"}},[t("c-stat-label",[e._v("Total Registered Businesses")]),e._v(" "),t("c-stat-number",[e._v(e._s(e.counts.company_aggregate?e.counts.company_aggregate.aggregate.count:0))]),e._v(" "),t("c-stat-helper-text",[t("c-stat-arrow",{attrs:{type:"increase"}}),e._v("0.0%\n    ")],1)],1),e._v(" "),t("c-box",{attrs:{d:"flex","align-items":"center",mb:"5"}},[t("c-input-group",{attrs:{w:"100",mr:"5"}},[t("c-input-left-element",[t("i",{staticClass:"fa fa-search"})]),e._v(" "),t("c-input",{attrs:{type:"text",placeholder:"Search business by name, email"},model:{value:e.search,callback:function(n){e.search=n},expression:"search"}})],1),e._v(" "),t("c-button",{attrs:{"variant-color":"blue",size:"sm"},on:{click:function(n){return e.$refs.downloadCSV2.$el.click()}}},[e._v("\n      Export\n    ")]),e._v(" "),t("download-csv",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"downloadCSV2",attrs:{data:e.businessesToDownload,name:"VC-BUSINESSES-"+new Date+".csv"}})],1),e._v(" "),t("div",[t("c-stack",{attrs:{spacing:5}},[t("c-box",{attrs:{p:5,"border-width":"1px"}},[e._l(e.filteredBusinesses,(function(n,o){return[t("c-grid",{attrs:{"template-columns":"repeat(8, 1fr)"}},[t("c-box",[t("c-text",{attrs:{fontSize:"11px",color:"gray.500"}},[e._v("Company name")]),e._v(" "),t("c-text",{attrs:{fontSize:"13px"}},[e._v(e._s(n.name))])],1),e._v(" "),t("c-box",[t("c-text",{attrs:{fontSize:"11px",color:"gray.500"}},[e._v("Stage")]),e._v(" "),t("c-text",{attrs:{fontSize:"13px"}},[e._v(e._s(n.business_stage.name))])],1),e._v(" "),t("c-box",[t("c-text",{attrs:{fontSize:"11px",color:"gray.500"}},[e._v("Objective")]),e._v(" "),t("c-text",{attrs:{fontSize:"13px"}},[e._v(e._s(n.business_objective.description))])],1),e._v(" "),t("c-box",[t("c-text",{attrs:{fontSize:"11px",color:"gray.500"}},[e._v("Location")]),e._v(" "),t("c-text",{attrs:{fontSize:"13px"}},[e._v(e._s(n.city)+", "+e._s(n.country))])],1),e._v(" "),t("c-box",[t("c-text",{attrs:{fontSize:"11px",color:"gray.500"}},[e._v("Investment Ready")]),e._v(" "),t("c-text",{attrs:{fontSize:"13px"}},[e._v(e._s(n.investmentEtaValue)+"\n                "+e._s(n.investmentEtaMetric))])],1),e._v(" "),t("c-box",[t("c-text",{attrs:{fontSize:"11px",color:"gray.500"}},[e._v("Plan")]),e._v(" "),0===n.billing_subscriptions.length?t("c-text",{attrs:{fontSize:"13px"}},[e._v(e._s("free")+" ")]):t("c-text",{attrs:{fontSize:"13px"}},[e._v(e._s(2===n.billing_subscriptions[0].planId?"Pro":"Premium")+"\n              ")])],1),e._v(" "),t("c-box",[t("c-text",{attrs:{fontSize:"11px",color:"gray.500"}},[e._v("Size")]),e._v(" "),t("c-text",{attrs:{fontSize:"13px"}},[e._v(e._s(n.size))])],1),e._v(" "),t("c-menu",[t("c-menu-button",{staticClass:"actions",attrs:{"aria-controls":o,"right-icon":"chevron-down"}},[e._v("Actions")]),e._v(" "),t("c-menu-list",{attrs:{id:o}},[t("c-menu-item",{attrs:{as:"nuxt-link",to:"./business/"+n.id}},[e._v("View")]),e._v(" "),t("c-menu-item",{attrs:{as:"nuxt-link",to:"/dashboard/coupon/"+n.id}},[e._v("Generate Coupon")])],1)],1)],1),e._v(" "),t("c-divider",{key:n.id})]}))],2)],1)],1)],1)}),[],!1,null,null,null);n.default=component.exports;t(247)(component,{CHeading:t(38).CHeading,CStatLabel:t(38).CStatLabel,CStatNumber:t(38).CStatNumber,CStatArrow:t(38).CStatArrow,CStatHelperText:t(38).CStatHelperText,CStat:t(38).CStat,CInputLeftElement:t(38).CInputLeftElement,CInput:t(38).CInput,CInputGroup:t(38).CInputGroup,CButton:t(38).CButton,CBox:t(38).CBox,CText:t(38).CText,CMenuButton:t(38).CMenuButton,CMenuItem:t(38).CMenuItem,CMenuList:t(38).CMenuList,CMenu:t(38).CMenu,CGrid:t(38).CGrid,CDivider:t(38).CDivider,CStack:t(38).CStack})}}]);