(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{637:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"business"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"company_by_pk"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"business_stage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"business_objective"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"investmentEtaMetric"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"investmentEtaValue"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"company_sectors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"business_sector"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"teams"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"company"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"posts_aggregate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"aggregate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"teams_aggregate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"aggregate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"posts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"company"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"coverImage"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:686}};t.loc.source={body:"query business($id: Int!) {\n  company_by_pk(id: $id) {\n   \n    business_stage {\n        name\n    }\n    city\n    country\n    id\n    name\n    size\n    business_objective {\n        description\n        value\n    }\n    createdAt\n    investmentEtaMetric\n    investmentEtaValue\n    company_sectors {\n      business_sector {\n        id\n        name\n      }\n    }\n\n    teams {\n      company {\n        name\n        id\n      }\n    }\n    \n    posts_aggregate {\n      aggregate {\n        count\n      }\n    }\n\n    teams_aggregate {\n      aggregate {\n        count\n      }\n    }\n    \n    posts {\n      content\n      createdAt\n       company {\n          name\n          coverImage\n        }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}var o={};function d(e,n){for(var i=0;i<e.definitions.length;i++){var element=e.definitions[i];if(element.name&&element.name.value==n)return element}}t.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),o[e.name.value]=n}})),e.exports=t,e.exports.business=function(e,n){var t={kind:e.kind,definitions:[d(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=o[n]||new Set,c=new Set,m=new Set;for(r.forEach((function(e){m.add(e)}));m.size>0;){var l=m;m=new Set,l.forEach((function(e){c.has(e)||(c.add(e),(o[e]||new Set).forEach((function(e){m.add(e)})))}))}return c.forEach((function(n){var r=d(e,n);r&&t.definitions.push(r)})),t}(t,"business")},672:function(e,n,t){"use strict";t.r(n);var r=t(18),o=(t(80),t(637)),d=t.n(o),c={name:"App",components:{},layout:"dashboard",asyncData:function(e){return Object(r.a)(regeneratorRuntime.mark((function n(){var t,r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.app,r=e.params,o=t.apolloProvider.defaultClient,n.t0=r.id,n.next=5,o.query({query:d.a,variables:{id:r.id}});case 5:return n.t1=n.sent.data.company_by_pk,n.abrupt("return",{businessId:n.t0,business:n.t1});case 7:case"end":return n.stop()}}),n)})))()},data:function(){return{counts:{},business:{},coupon:{},businessId:null,discount:null,commission:null}},methods:{fetchSomething:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var t,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$axios.$post("https://server.vibrantcreator.com/v1/api/admin/coupon/create",{commission:e.commission,discount:e.discount,companyId:e.businessId});case 3:return t=n.sent,e.coupon=t.data,alert("Coupon Generated Successfully and sent to Company Mail"),e.commission=null,e.discount=null,n.next=10,e.$axios.$post("https://server.vibrantcreator.com/v1/api/admin/".concat(t.data,"/coupon/send"));case 10:n.next=16;break;case 12:n.prev=12,n.t0=n.catch(0),r={error:n.t0},console.log(r,"hi");case 16:case"end":return n.stop()}}),n,null,[[0,12]])})))()}},computed:{}},m=t(91),component=Object(m.a)(c,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"container"},[t("c-heading",{attrs:{marginBottom:"20px"}},[t("c-avatar",{attrs:{name:e.business.name?""+e.business.name:null}}),e._v("\n    "+e._s(e.business.name)+"\n  ")],1),e._v(" "),t("div",[t("c-box",{attrs:{p:5,width:"600px","border-width":"1px"}},[t("c-grid",{attrs:{"template-columns":"repeat(1, 1fr)",gap:"6"}},[t("c-box",[t("c-form-control",{attrs:{"is-required":""}},[t("c-form-label",{attrs:{for:"discount"}},[e._v("Discount (%)")]),e._v(" "),t("c-input",{attrs:{type:"number",id:"discount",placeholder:"Discount"},model:{value:e.discount,callback:function(n){e.discount=n},expression:"discount"}})],1)],1),e._v(" "),t("c-box",[t("c-form-control",{attrs:{"is-required":""}},[t("c-form-label",{attrs:{for:"commission"}},[e._v("Comission (%)")]),e._v(" "),t("c-input",{attrs:{type:"number",id:"commission",placeholder:"Commission"},model:{value:e.commission,callback:function(n){e.commission=n},expression:"commission"}})],1)],1)],1),e._v(" "),t("c-box")],1)],1),e._v(" "),t("c-button",{attrs:{"variant-color":"blue",mt:"6",size:"sm"},on:{click:function(n){return e.fetchSomething()}}},[e._v("\n    Generate Coupon\n  ")])],1)}),[],!1,null,null,null);n.default=component.exports;t(247)(component,{CAvatar:t(38).CAvatar,CHeading:t(38).CHeading,CFormLabel:t(38).CFormLabel,CInput:t(38).CInput,CFormControl:t(38).CFormControl,CBox:t(38).CBox,CGrid:t(38).CGrid,CButton:t(38).CButton})}}]);